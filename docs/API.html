<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>API · React Native Sensors</title><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="generator" content="Docusaurus"/><meta name="description" content="We decided to use [RxJS](https://github.com/ReactiveX/rxjs) as basis for our implementation."/><meta name="docsearch:language" content="en"/><meta property="og:title" content="API · React Native Sensors"/><meta property="og:type" content="website"/><meta property="og:url" content="https://react-native-sensors.github.io/index.html"/><meta property="og:description" content="We decided to use [RxJS](https://github.com/ReactiveX/rxjs) as basis for our implementation."/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><h2 class="headerTitle">React Native Sensors</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/docs/Installation.html" target="_self">Documentation</a></li><li class=""><a href="https://github.com/react-native-sensors/react-native-sensors" target="_self">GitHub</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Usage</span></h2></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Usage</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/Installation.html">Installation</a></li><li class="navListItem"><a class="navItem" href="/docs/Usage.html">General</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/API.html">API</a></li><li class="navListItem"><a class="navItem" href="/docs/FAQ.html">FAQ</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">About</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/Changelog.html">Changelog</a></li><li class="navListItem"><a class="navItem" href="/docs/BlogPosts.html">Blog Posts</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">API</h1></header><article><div><span><p>We decided to use <a href="https://github.com/ReactiveX/rxjs">RxJS</a> as basis for our implementation.
This means, to use a sensor you simply subscribe to it and you get updates with all emitted values.</p>
<p>If this is too much for you to handle you can either use <code>setUpdateIntervalForType</code> to set down the interval in which you get updates or you can use common RxJS operators to throttle down the rate you get updates at on the JS side. In general you should prefer to set the update interval as this will put less stress on you React Native Bridge.</p>
<h2><a class="anchor" aria-hidden="true" id="accelerometer-observablex-number-y-number-z-number-timestamp-string"></a><a href="#accelerometer-observablex-number-y-number-z-number-timestamp-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>accelerometer: Observable&lt;{x: number, y: number, z: number, timestamp: string}&gt;</h2>
<pre><code class="hljs css language-js"><span class="hljs-keyword">import</span> { accelerometer } <span class="hljs-keyword">from</span> <span class="hljs-string">"react-native-sensors"</span>;

<span class="hljs-keyword">const</span> subscription = accelerometer.subscribe(<span class="hljs-function">(<span class="hljs-params">{ x, y, z, timestamp }</span>) =&gt;</span> <span class="hljs-built_in">console</span>.log({ x, y, z, timestamp }));
</code></pre>
<p>It might be interesting to note that the gravity of the earth is not removed from the sensoric values.
Dependening on the position of the phone you will need to substract this from the values if you are interested in the raw values.
See example : <a href="https://react-native-sensors.github.io/docs/Usage.html#Raw-device-acceleration">device acceleration</a></p>
<h2><a class="anchor" aria-hidden="true" id="gravity-observablex-number-y-number-z-number-timestamp-string"></a><a href="#gravity-observablex-number-y-number-z-number-timestamp-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>gravity: Observable&lt;{x: number, y: number, z: number, timestamp: string}&gt;</h2>
<pre><code class="hljs css language-js"><span class="hljs-keyword">import</span> { gravity } <span class="hljs-keyword">from</span> <span class="hljs-string">"react-native-sensors"</span>;

<span class="hljs-keyword">const</span> subscription = gravity.subscribe(<span class="hljs-function">(<span class="hljs-params">{ x, y, z, timestamp }</span>) =&gt;</span> <span class="hljs-built_in">console</span>.log({ x, y, z, timestamp }));
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="gyroscope-observablex-number-y-number-z-number-timestamp-string"></a><a href="#gyroscope-observablex-number-y-number-z-number-timestamp-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>gyroscope: Observable&lt;{x: number, y: number, z: number, timestamp: string}&gt;</h2>
<pre><code class="hljs css language-js"><span class="hljs-keyword">import</span> { gyroscope } <span class="hljs-keyword">from</span> <span class="hljs-string">"react-native-sensors"</span>;

<span class="hljs-keyword">const</span> subscription = gyroscope.subscribe(<span class="hljs-function">(<span class="hljs-params">{ x, y, z, timestamp }</span>) =&gt;</span> <span class="hljs-built_in">console</span>.log({ x, y, z, timestamp }));
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="magnetometer-observablex-number-y-number-z-number-timestamp-string"></a><a href="#magnetometer-observablex-number-y-number-z-number-timestamp-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>magnetometer: Observable&lt;{x: number, y: number, z: number, timestamp: string}&gt;</h2>
<pre><code class="hljs css language-js"><span class="hljs-keyword">import</span> { magnetometer } <span class="hljs-keyword">from</span> <span class="hljs-string">"react-native-sensors"</span>;

<span class="hljs-keyword">const</span> subscription = magnetometer.subscribe(<span class="hljs-function">(<span class="hljs-params">{ x, y, z, timestamp }</span>) =&gt;</span> <span class="hljs-built_in">console</span>.log({ x, y, z, timestamp }));
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="barometer-observablepressure-number"></a><a href="#barometer-observablepressure-number" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>barometer: Observable&lt;{pressure: number}&gt;</h2>
<pre><code class="hljs css language-js"><span class="hljs-keyword">import</span> { barometer } <span class="hljs-keyword">from</span> <span class="hljs-string">"react-native-sensors"</span>;

<span class="hljs-keyword">const</span> subscription = barometer.subscribe(<span class="hljs-function">(<span class="hljs-params">{ pressure }</span>) =&gt;</span> <span class="hljs-built_in">console</span>.log({ pressure }));
</code></pre>
<p>Please note that this sensor has no option to set the update rate.</p>
<h2><a class="anchor" aria-hidden="true" id="orientation-observableqx-number-qy-number-qz-number-qw-number-pitch-number-roll-number-yaw-number-timestamp-string"></a><a href="#orientation-observableqx-number-qy-number-qz-number-qw-number-pitch-number-roll-number-yaw-number-timestamp-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>orientation: Observable&lt;{qx: number, qy: number, qz: number, qw: number, pitch: number, roll: number, yaw: number, timestamp: string}&gt;</h2>
<pre><code class="hljs css language-js"><span class="hljs-keyword">import</span> { orientation } <span class="hljs-keyword">from</span> <span class="hljs-string">"react-native-sensors"</span>;

<span class="hljs-keyword">const</span> subscription = orientation.subscribe(<span class="hljs-function">(<span class="hljs-params">{ qx, qy, qz, qw, pitch, roll, yaw, timestamp }</span>) =&gt;</span>
  <span class="hljs-built_in">console</span>.log({ qx, qy, qz, qw, pitch, roll, yaw, timestamp })
);
</code></pre>
<p>qx, qy, qz, qw are quaternion values.
pitch, roll, yaw are calculated by iOS/Android. (Yaw is called Azimuth in Android documentation)</p>
<p>Note: reference frame for iOS is different from Android. Check Apple's and Google documentation.</p>
<p><a href="https://developer.apple.com/documentation/coremotion/getting_processed_device-motion_data/understanding_reference_frames_and_device_attitude?language=objc">iOS - Understanding Reference Frames and Device Attitude</a></p>
<p><a href="https://developer.android.com/guide/topics/sensors/sensors_motion#sensors-motion-rotate">Android - Use the rotation vector sensor</a></p>
<p><a href="https://en.wikipedia.org/wiki/Quaternion">Quaternion</a></p>
<p><a href="https://en.wikipedia.org/wiki/Quaternions_and_spatial_rotation">Quaternions and spatial rotation</a></p>
<p>Example how to convert quaternion to Euler angles:</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">quaternionToAngles</span>(<span class="hljs-params">q</span>) </span>{
  <span class="hljs-keyword">let</span> data = q;

  <span class="hljs-keyword">let</span> ysqr = data.y * data.y;
  <span class="hljs-keyword">let</span> t0 = <span class="hljs-number">-2.0</span> * (ysqr + data.z * data.z) + <span class="hljs-number">1.0</span>;
  <span class="hljs-keyword">let</span> t1 = +<span class="hljs-number">2.0</span> * (data.x * data.y + data.w * data.z);
  <span class="hljs-keyword">let</span> t2 = <span class="hljs-number">-2.0</span> * (data.x * data.z - data.w * data.y);
  <span class="hljs-keyword">let</span> t3 = +<span class="hljs-number">2.0</span> * (data.y * data.z + data.w * data.x);
  <span class="hljs-keyword">let</span> t4 = <span class="hljs-number">-2.0</span> * (data.x * data.x + ysqr) + <span class="hljs-number">1.0</span>;

  t2 = t2 &gt; <span class="hljs-number">1.0</span> ? <span class="hljs-number">1.0</span> : t2;
  t2 = t2 &lt; <span class="hljs-number">-1.0</span> ? <span class="hljs-number">-1.0</span> : t2;

  <span class="hljs-keyword">const</span> toDeg = <span class="hljs-number">180</span> / <span class="hljs-built_in">Math</span>.PI;

  <span class="hljs-keyword">const</span> euler = {};
  euler.pitch = <span class="hljs-built_in">Math</span>.asin(t2) * toDeg;
  euler.roll = <span class="hljs-built_in">Math</span>.atan2(t3, t4) * toDeg;
  euler.yaw = <span class="hljs-built_in">Math</span>.atan2(t1, t0) * toDeg;

  <span class="hljs-keyword">return</span> euler;
}
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="setupdateintervalfortypetype-string-interval-number"></a><a href="#setupdateintervalfortypetype-string-interval-number" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>setUpdateIntervalForType(type: string, interval: number)</h2>
<p>As the sensors are global we can only set the rate in which the hardware is read globally.
Please note that the native platforms treat this more as a recommendation than an exact value.</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">import</span> { setUpdateIntervalForType, SensorTypes } <span class="hljs-keyword">from</span> <span class="hljs-string">"react-native-sensors"</span>;
setUpdateIntervalForType(SensorTypes.accelerometer, <span class="hljs-number">100</span>);
</code></pre>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/Usage.html"><span class="arrow-prev">← </span><span>General</span></a><a class="docs-next button" href="/docs/FAQ.html"><span>FAQ</span><span class="arrow-next"> →</span></a></div></div></div></div><footer class="nav-footer" id="footer"><section class="copyright">Copyright © 2023 Daniel Schmidt.</section></footer></div></body></html>